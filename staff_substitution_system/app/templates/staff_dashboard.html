<!-- templates/staff_dashboard.html -->
{% extends "layout.html" %}
{% block content %}
<h3>Welcome, Staff</h3>

<hr>
<h4>Your Timetable</h4>
<table class="table table-striped table-hover">
  <thead class="table-dark">
    <tr>
      <th>Day</th>
      <th>Hour</th>
      <th>Subject</th>
    </tr>
  </thead>
  <tbody>
    {% for row in timetable %}
    <tr>
      <td>{{ row.day }}</td>
      <td>{{ row.hour }}</td>
      <td>{{ row.subject }}</td>
    </tr>
    {% else %}
    <tr><td colspan="3" class="text-center">No timetable assigned yet.</td></tr>
    {% endfor %}
  </tbody>
</table>

<hr>
<h4>Your Assigned Substitution Duties</h4>
<table class="table table-bordered">
  <thead class="table-secondary">
    <tr>
      <th>Date</th>
      <th>Hour</th>
      <th>Absent Staff</th>
      <th>Reason</th>
    </tr>
  </thead>
  <tbody>
    {% for sub in substitutions %}
    <tr>
      <td>{{ sub.date }}</td>
      <td>{{ sub.hour }}</td>
      <td>{{ sub.absent_staff.name }}</td>
      <td>{{ sub.reason }}</td>
    </tr>
    {% else %}
    <tr><td colspan="4" class="text-center">No substitutions assigned.</td></tr>
    {% endfor %}
  </tbody>
</table>

<div class="mt-4">
  <a href="{{ url_for('main_app.apply_leave') }}" class="btn btn-primary">Apply for Leave</a>
</div>
{% endblock %}
